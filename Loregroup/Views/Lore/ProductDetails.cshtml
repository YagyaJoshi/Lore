@model Loregroup.Core.ViewModels.ProductViewModel
@using Loregroup.Core.ViewModels

@{
    var frontmodel = (FrontendLayoutModel)ViewBag.FrontLayoutModel;
}

@{
    ViewBag.Title = "ProductDetails";
    Layout = "~/Views/Shared/_MasterFrontend.cshtml";
}

<!-- Fancybox-master -->
<link rel="stylesheet" type="text/css" href="/Frontend/fancybox-master/dist/jquery.fancybox.css">

<style>
    .column {
        padding: 10px;
    }

        /* Style the images inside the grid */
        .column img {
            opacity: 1;
            cursor: pointer;
        }


    /*Zoom Feature*/

    #itemCount {
        position: absolute;
        display: none;
        top: -10px;
        left: -10px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: red;
        color: white;
        text-align: center;
    }

    .img-zoom-container {
        position: relative;
    }

    .img-zoom-lens {
        position: absolute;
        border: 0px solid #d4d4d4;
        /*set the size of the lens:*/
        width: 300px;
        height: 300px;
    }

    .img-zoom-result {
        border: 1px solid #d4d4d4;
        width: 500px;
        height: 400px;
        position: absolute;
        right: 100px;
        z-index: 999;
        overflow: hidden;
    }

    .hidden {
        visibility: hidden;
    }

    .RedDot {
        height: 20px;
        width: 20px;
        background-color: red;
        border-radius: 50%;
        display: inline-block;
    }

    .GreenDot {
        height: 20px;
        width: 20px;
        background-color: green;
        border-radius: 50%;
        display: inline-block;
    }

    table, th, td {
        border: 1px solid black;
    }

    .fancybox-outer {
        position: static;
    }

    .fancy_zoom:after {
        margin: 0;
    }


    .fancybox-inner {
        bottom: 0;
        top: 0;
        left: 0;
        right: 0;
        margin: auto;
        position: absolute;
    }

    .fancybox-close {
        position: absolute;
        top: -179px;
        right: -20px;
        bottom: 0;
        width: 36px;
        height: 36px;
        cursor: pointer;
    }
</style>

<!-- Product Detail -->
<section class="sec-product-detail bg0 p-t-65 p-b-60">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-7 p-b-30">

                <div class="p-l-25 p-r-30 p-lr-0-lg">
                    <div class="wrap-slick3 flex-sb flex-w">
                        <div style="width:11.11%">
                            <ul class="slick3-dots">
                                @if (Model.Picture1 != null && Model.Picture1 != "")
                                {
                                    <li class="slick-active">
                                        <img src="@Model.Picture1" style="width:100%" onclick="myFunction(this);">
                                    </li>
                                }
                                @if (Model.Picture2 != null && Model.Picture2 != "")
                                {
                                    <li>
                                        <img src="@Model.Picture2" style="width:100%" onclick="myFunction(this);">
                                    </li>
                                }
                                @if (Model.Picture3 != null && Model.Picture3 != "")
                                {
                                    <li>
                                        <img src="@Model.Picture3" style="width:100%" onclick="myFunction(this);">
                                    </li>
                                }                               
                                @if (Model.VideoImage != null && Model.VideoImage != "" && Model.VideoLink != null && Model.VideoLink != "")
                                {
                                    <li>
                                        <div class="container video" style="padding:0px;">
                                            <a href="@Model.VideoLink?autoplay=1" class="fancy_zoom fancybox fancybox.iframe">
                                                <img style="height:auto;" class="videoThumb" src="@Model.VideoImage">
                                            </a>
                                        </div>
                                    </li>
                                }

                            </ul>
                        </div>

                        @*<div class="slick3">
                                <div class="wrap-pic-w pos-relative">
                                    <a id="expandedAnchor" href="@Model.Picture1" data-fancybox="preview">
                                        <p class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04"><i class="fa fa-expand"></i></p>
                                        <img id="expandedImg" src="@Model.Picture1">
                                    </a>
                                </div>
                            </div>*@


                        <div class="slick3">
                            <div class="wrap-pic-w pos-relative">
                                <a id="expandedAnchor" href="@Model.Picture1" data-fancybox="preview" style="cursor:zoom-in">
                                    @*<p class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" style="z-index: 99;"><i class="fa fa-expand"></i></p>*@

                                    <div class="img-zoom-container">
                                        <img id="expandedImg" src="@Model.Picture1">
                                    </div>
                                    @*<img id="expandedImg" src="@Model.Picture1">*@
                                </a>
                            </div>
                        </div>


                    </div>

                    @*</div>*@


                    @*<div class="p-l-25 p-r-30 p-lr-0-lg">

                        <div class="col-md-3 col-lg-3">
                            <div class="column">
                                <img src="@Model.Picture1" style="width:100%" onclick="myFunction(this);">
                            </div>
                            <div class="column">
                                <img src="@Model.Picture2" style="width:100%" onclick="myFunction(this);">
                            </div>
                            <div class="column">
                                <img src="@Model.Picture3" style="width:100%" onclick="myFunction(this);">
                            </div>
                        </div>
                        <div class="col-md-9 col-lg-9">
                            <div class="wrap-pic-w pos-relative">
                                <a id="expandedAnchor" href="@Model.Picture1" data-fancybox="preview">
                                    <p class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04"><i class="fa fa-expand"></i></p>
                                    <img id="expandedImg" src="@Model.Picture1">
                                </a>
                            </div>
                        </div>*@

                    @*<div class="wrap-slick3 flex-sb flex-w">
                            <div class="wrap-slick3-dots"></div>
                            <div class="wrap-slick3-arrows flex-sb-m flex-w"></div>

                            <div class="slick3 gallery-lb">
                                <div class="item-slick3" data-thumb="@Model.Picture1">
                                    <div class="wrap-pic-w pos-relative">
                                        <img src="@Model.Picture1" alt="IMG-PRODUCT">

                                        <a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="@Model.Picture1">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                    </div>
                                </div>

                                <div class="item-slick3" data-thumb="@Model.Picture2">
                                    <div class="wrap-pic-w pos-relative">
                                        <img src="@Model.Picture2" alt="IMG-PRODUCT">

                                        <a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="@Model.Picture2">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                    </div>
                                </div>

                                <div class="item-slick3" data-thumb="@Model.Picture3">
                                    <div class="wrap-pic-w pos-relative">
                                        <img src="@Model.Picture3" alt="IMG-PRODUCT">

                                        <a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="@Model.Picture3">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>*@

                </div>
            </div>

            @*Zoom result*@
            <div id="myresult" class=" hidden img-zoom-result"></div>


            <div class="col-md-6 col-lg-5 p-b-30" style="padding-left:0px;padding-right:0px;">
                <div class="p-t-5 p-lr-0-lg">
                    <h4 class="mtext-105 cl2 js-name-detail">
                        @Model.ProductName
                        @*@Model.SeletedCategoryNames*@
                    </h4>

                    <div class="p-b-14">
                        <p class="stext-102">
                            <span>
                                @Model.Title
                            </span>
                        </p>
                    </div>
                    @if (Model.SampleColourName != null)
                    {
                    <div class="p-b-14">
                        <p class="stext-102">
                            <span>
                               Sample Colour - @Model.SampleColourName
                            </span>
                        </p>
                    </div>
                    }
                    @if (Model.FrontendLoginUserId > 0)
                    {
                        if (@frontmodel.CurrencyId == 1)
                        {
                            <span class="mtext-106 cl2" style="color:red;">
                                $ @Model.PriceUSD
                            </span>
                            <span id="pricevalue" style="display:none">@Model.PriceUSD</span>
                        }
                        else if (@frontmodel.CurrencyId == 2)
                        {
                            <span class="mtext-106 cl2" style="color:red;">
                                € @Model.PriceEURO
                            </span>
                            <span id="pricevalue" style="display:none">@Model.PriceEURO</span>
                        }
                        else if (@frontmodel.CurrencyId == 3)
                        {
                            <span class="mtext-106 cl2" style="color:red;">
                                £ @Model.PriceGBP
                            </span>
                            <span id="pricevalue" style="display:none">@Model.PriceGBP</span>
                        }
                        else
                        {
                            <span class="mtext-106 cl2" style="color:red;">
                                $ @Model.PriceUSD
                            </span>
                            <span id="pricevalue" style="display:none">@Model.PriceUSD</span>
                        }

                        <span id="categoryidvalue" style="display:none">@Model.CategoryId</span>

                        <div class="p-t-20">
                            <div class="flex-w p-b-10">
                                <div class="size-203 respon6">
                                    Color
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        @*@Html.LabelFor(model => model.ColourList)<span class="required_red">*</span>*@
                                        @Html.BootstrapDropDownListFor(model => model.ColourId, new SelectList(Model.ColourList, "Id", "Colour", Model.ColourId))
                                    </div>
                                </div>

                                @*<div class="size-204 respon6-next">
                        <div class="rs1-select2 bor8 bg0">
                            <select class="js-select2" name="time">
                                <option>Choose an option</option>
                                <option>Red</option>
                                <option>Blue</option>
                                <option>White</option>
                                <option>Grey</option>
                            </select>
                            <div class="dropDownSelect2"></div>
                        </div>
                    </div>*@
                            </div>

                            <div class="flex-w p-b-10">
                                <div class="size-203 respon6">
                                    Size
                                </div>

                                @*<div class="size-204 respon6-next">
                        <div class="rs1-select2 bor8 bg0">
                            <select class="js-select2" name="time">
                                <option>Choose an option</option>
                                <option>Size S</option>
                                <option>Size M</option>
                                <option>Size L</option>
                                <option>Size XL</option>
                            </select>
                            <div class="dropDownSelect2"></div>
                        </div>
                    </div>*@

                                <div class="col-md-6">
                                    <div class="form-group">
                                        @*@Html.LabelFor(model => model.ColourList)<span class="required_red">*</span>*@
                                        @Html.BootstrapDropDownListFor(model => model.SizeUk, new SelectList(Model.SizeList, "SizeUk", "SizeString", Model.SizeUk))
                                    </div>
                                </div>
                            </div>

                            <div class="flex-w p-b-10">
                                <div class="size-204 flex-w flex-m respon6-next">
                                    <div class="wrap-num-product flex-w m-r-20 m-tb-10">
                                        <div class="btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m">
                                            <i class="fs-16 zmdi zmdi-minus"></i>
                                        </div>

                                        <input class="mtext-104 cl3 txt-center num-product" type="number" name="num-product" value="0" id="quantityvalue">

                                        <div class="btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m">
                                            <i class="fs-16 zmdi zmdi-plus"></i>
                                        </div>
                                    </div>

                                    @*<button class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail" onclick="addtocartfunction('@Model.ProductName', @Model.Id, '@Model.Picture1', '@Model.PriceUSD')">
                            Add to cart
                        </button>*@

                                    <button class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04" onclick="addtocartfunction('@Model.ProductName', @Model.Id, '@Model.Picture1', '@Model.PriceUSD')">
                                        Add to cart
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="p-t-10">
                            <p class="stext-102">
                                <a style="cursor:pointer;color:white;background-color:red;border-radius: 5px;font-size: medium;padding:5px;" class="mtext-109 cl0" id="sizechart2">
                                    Size Chart
                                </a>
                            </p>
                        </div>

                        <div class="p-t-10">
                            <p class="stext-102">
                                <b> Brand : </b>
                                <span>
                                    @Model.SeletedBrandNames
                                </span>
                            </p>
                        </div>

                        <div class="p-t-10">
                            <p class="stext-102">
                                <b>Fabric : </b>
                                <span>
                                    @Model.SelectedFabricNames
                                </span>
                            </p>
                        </div>

                        <div class="p-t-10">
                            <p class="stext-102">
                                <b>Cut Of Dress : </b>
                                <span>
                                    @Model.CutOfDress
                                </span>
                            </p>
                        </div>

                        @*<div class="p-t-20">
                <p class="stext-102">
                    <b>Style : </b>
                    <span>
                        @Model.Style
                    </span>
                </p>
            </div>*@

                        <div class="p-t-10">
                            <p class="stext-102">
                                <b>Description : </b>
                                <span>
                                    @Model.Description
                                </span>
                            </p>
                        </div>
                        <br />

                        @*if (Model.ProductAvailabilityList.Count > 0)
                        {
                            <div class="col-md-12" style="padding-left:0px;padding-right:0px;">
                                <table id="SizeQtyTable" style="text-align: center;">
                                    <tr>
                                        <td style="min-width:70px;">
                                            <label style="width:70px;"> US </label>
                                            <label style="width:70px;"> UK </label>
                                            <label style="width:70px;"> EU </label>
                                        </td>

                                        @for (int i = 2; i <= 34; i = i + 2)
                                        {
                                            <td style="width:5px;">
                                                @if (i == 2)
                                                {
                                                    <label style="width:30px;"> 00 </label>
                                                }
                                                else if (i == 4)
                                                {
                                                    <label style="width:30px;"> 0 </label>
                                                }
                                                else
                                                {
                                                    <label style="width:30px;"> @(i - 4) </label>
                                                }
                                                <label style="width:30px;"> @i </label>
                                                <label style="width:30px;"> @(i + 28) </label>
                                            </td>
                                        }
                                      
                                    </tr>

                                    @foreach (var colorList in Model.ProductAvailabilityList)
                                    {
                                        <tr>
                                            <td style="min-width:70px;">
                                                <label style="width:70px;"> @colorList[0].ColourName </label>
                                            </td>
                                            @foreach (var item in colorList)
                                            {
                                                <td style="width:5px;">
                                                    @if (item.FinalQty > 0)
                                                    {
                                                        <label style="width:30px;"> <span style='color:blue;'>&#10004;</span> </label>
                                                    }
                                                    else
                                                    {
                                                        <label style="width:30px;"> <span style='color:red;'>&#10008;</span> </label>
                                                    }
                                                </td>
                                            }
                                        </tr>
                                    }

                                </table>
                            </div>
                        }*@

                        <div class="block2-txt-child2 flex-r p-t-3">

                            <a href="http://www.facebook.com/sharer.php?u=http://lorefashions.com/Lore/ProductDetails?ProductId=@Model.Id&t=@Model.ProductName" class="btn-addwish-b2 dis-block pos-relative">
                                <img class="icon-heart1 dis-block trans-04" src="~/Frontend/images/icons/icons8-facebook-circled-20.png" alt="ICON">
                                <img class="icon-heart2 dis-block trans-04 ab-t-l" src="~/Frontend/images/icons/icons8-facebook-circled-filled-20.png" alt="ICON">
                            </a>

                            <a href="https://www.pinterest.com/pin/create/button/?url=http://lorefashions.com/Lore/ProductDetails?ProductId=@Model.Id&media=@Model.Picture1&description=@Model.ProductName" class="btn-addwish-b2 dis-block pos-relative">
                                <img class="icon-heart1 dis-block trans-04" src="~/Frontend/images/icons/icons8-pinterest-20.png" alt="ICON">
                                <img class="icon-heart2 dis-block trans-04 ab-t-l" src="~/Frontend/images/icons/icons8-pinterest-filled-20.png" alt="ICON">
                            </a>

                            <a onclick="addtowishlist('@Model.Id','@Model.ProductName','@Model.PriceUSD')" class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
                                <img class="icon-heart1 dis-block trans-04" src="~/Frontend/images/icons/icons8-heart-outline-20.png" alt="ICON">
                                <img class="icon-heart2 dis-block trans-04 ab-t-l" src="~/Frontend/images/icons/icons8-heart-outline-filled-20.png" alt="ICON">
                            </a>

                        </div>

                    }
                    else
                    {

                        <div class="p-t-33">
                            <p class="stext-102">
                                Find A Retailer
                                <span>
                                    <a class="stext-101 cl0 size-112 bg7 bor11 hov-btn3 p-lr-15 trans-04 m-b-10" href="@Url.Action("StoreLocator", "Setting")" style="padding:5px 25px;margin-left:8px;">
                                        Click Here
                                    </a>
                                </span>
                            </p>
                        </div>

                        <p class="stext-102 cl3 p-t-23">
                            <b>Please Note: We only sell On-Line to our wholesale customers</b><br />
                            All retailers are welcome to apply for wholesale status, however, only those businesses that provide a valid Sales Tax Exemption Number/Resale Certificate Number can be approved. Once approved you will be able to see our complete product line with wholesale pricing. In addition, pleased be advised that orders at the wholesale level are subject to our minimum purchase requirement per order.
                        </p>

                        <div class="p-t-33">
                            <p class="stext-102">
                                Apply for a wholesale account
                                <span>
                                    <a class="stext-101 cl0 size-112 bg7 bor11 hov-btn3 p-lr-15 trans-04 m-b-10" href="@Url.Action("Registration", "Setting")" style="padding:5px 25px;margin-left:8px;">
                                        Click Here
                                    </a>
                                </span>
                            </p>
                        </div>
                    }



                    <!--  -->
                    @*<div class="flex-w flex-m p-l-100 p-t-40 respon7">
            <div class="flex-m bor9 p-r-10 m-r-11">
                <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 js-addwish-detail tooltip100" data-tooltip="Add to Wishlist">
                    <i class="zmdi zmdi-favorite"></i>
                </a>
            </div>

            <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Facebook">
                <i class="fa fa-facebook"></i>
            </a>

            <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Twitter">
                <i class="fa fa-twitter"></i>
            </a>

            <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Google Plus">
                <i class="fa fa-google-plus"></i>
            </a>
        </div>*@
                </div>
            </div>
        </div>

    </div>

    @*<div class="bg6 flex-c-m flex-w size-302 m-t-73 p-tb-15">
            <span class="stext-107 cl6 p-lr-25">
                SKU: JAK-01
            </span>

            <span class="stext-107 cl6 p-lr-25">
                Categories: Jacket, Men
            </span>
        </div>*@
</section>


@*<script src="/Frontend/fancybox-master/dist/jquery.fancybox.js"></script>*@

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js" type="text/javascript"></script>

<script src="/Frontend/fancybox-master/dist/jquery.fancybox.min.js"></script>

<!-- Fancybox-Master page new script -->
<script>
    function myFunction(imgs) {
        var expandImg = document.getElementById("expandedImg");
        expandImg.src = imgs.src;
        expandImg.parentElement.style.display = "block";

        $("#expandedAnchor").attr('href', imgs.src);
        imageZoom("expandedImg", "myresult");
    }


    //function addtocartfunction(PName, PId, PPicture1, PPriceUSD) {
    //    var PQty = $("#quantityvalue").val();
    //    alert(PName + " , " + PId + " , " + PPicture1 + " , " + PPriceUSD + " , " + PQty);
    //    var spanrecord = "<span class='header-cart-item-info'>" + PQty + " x $" + PPriceUSD + "</span>";
    //    var lidata = "<li class='header-cart-item flex-w flex-t m-b-12'><div class='header-cart-item-img'><img src='" + PPicture1 + "' alt='IMG'></div><div class='header-cart-item-txt p-t-8'><a href='#' class='header-cart-item-name m-b-18 hov-cl1 trans-04'>" + PName + "</a><span class='header-cart-item-info'>" + PQty + " x $" + PPriceUSD + "</span></div></li>";
    //    // alert(lidata);
    //    //var ul = document.getElementById("cartid");
    //    //ul.appendChild(lidata);
    //    $("#cartid").append(lidata);
    //}


    function addtocartfunction(PName, PId, PPicture1, PPriceUSD) {
        debugger;
        var PQty = $("#quantityvalue").val();
        if (PQty > 0) {
        }
        else {
            alert("Please Enter Quantity");
            $("#quantityvalue").focus();
            return false;
        }
        var PSize = $('#SizeUk option:selected').val();
        if (PSize > 0) {
        }
        else {
           // alert(PSize);
            alert("Please Select Size");
            $("#SizeUk").focus();
            return false;
        }
        var PColourId = $('#ColourId option:selected').val();
        if (PColourId > 0) {
        }
        else {
            alert("Please Select Color");
            $("#ColourId").focus();
            return false;
        }

        var pprice = $("#pricevalue").text();
        var pcategoryid = $("#categoryidvalue").text();
        //alert(pcategoryid);
        $.ajax({

            url: '/Lore/SaveTempCart?pname=' + PName + '&pid=' + PId + '&ppicture=' + PPicture1 + '&ppriceusd=' + pprice + '&pqty=' + PQty + '&psize=' + PSize + '&pcolourid=' + PColourId,
            //type: 'GET',
            crossDomain: true,
            //data: JSON.stringify(employee),
            //data: { emailid: abc, password: def },
            //dataType: 'json',
            contentType: "application/json",
            //contentType: "application/xml; charset=utf-8",
            //beforeSend: function () {
            //    $("#loadingImage").show();
            //},
            //complete: function () {
            //    $("#loadingImage").hide();
            //},
            success: function (data) {
                //alert("Thank you for contacting us!");
                if (data == 1) {
                    alert("Product Added To Cart!");

                    //window.location.href = "http://www.dev1.connekt.in/Lore/Index";
                    document.location = '/Lore/Products?CategoryId=' + pcategoryid;
                    //Url.Action("Products", "Lore", new { CategoryId = Model.CategoryId })';
                    return true;
                }
                //else if (data == 2) {
                //    return true;
                //}
                else {
                    alert("Server Error ! please try later.");
                    return false;
                }
                //window.location.href = "http://www.bookcommerce.com/";
                return false;
            },
            error: function (data) {
                console.log(data);
                alert("Some error occured");
                return false;
            }

        });
        //return false;


        //$("#cartid").append(lidata);
    }


</script>


<script>
    function imageZoom(imgID, resultID) {
        var img, lens, result, cx, cy;
        img = document.getElementById(imgID);
        result = document.getElementById(resultID);
        /*create lens:*/
        lens = document.createElement("DIV");
        lens.setAttribute("class", "img-zoom-lens");
        /*insert lens:*/
        img.parentElement.insertBefore(lens, img);
        /*calculate the ratio between result DIV and lens:*/
        cx = result.offsetWidth / lens.offsetWidth;
        cy = result.offsetHeight / lens.offsetHeight;
        /*set background properties for the result DIV:*/
        result.style.backgroundImage = "url('" + img.src + "')";
        result.style.backgroundSize = (img.width * cx) + "px " + (img.height * cy) + "px";
        /*execute a function when someone moves the cursor over the image, or the lens:*/
        lens.addEventListener("mousemove", moveLens);
        img.addEventListener("mousemove", moveLens);
        /*and also for touch screens:*/
        lens.addEventListener("touchmove", moveLens);
        img.addEventListener("touchmove", moveLens);
        function moveLens(e) {
            var pos, x, y;
            /*prevent any other actions that may occur when moving over the image:*/
            e.preventDefault();
            /*get the cursor's x and y positions:*/
            pos = getCursorPos(e);
            /*calculate the position of the lens:*/
            x = pos.x - (lens.offsetWidth / 2);
            y = pos.y - (lens.offsetHeight / 2);
            /*prevent the lens from being positioned outside the image:*/
            if (x > img.width - lens.offsetWidth) { x = img.width - lens.offsetWidth; }
            if (x < 0) { x = 0; }
            if (y > img.height - lens.offsetHeight) { y = img.height - lens.offsetHeight; }
            if (y < 0) { y = 0; }
            /*set the position of the lens:*/
            lens.style.left = x + "px";
            lens.style.top = y + "px";
            /*display what the lens "sees":*/
            result.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
        }
        function getCursorPos(e) {
            var a, x = 0, y = 0;
            e = e || window.event;
            /*get the x and y positions of the image:*/
            a = img.getBoundingClientRect();
            /*calculate the cursor's x and y coordinates, relative to the image:*/
            x = e.pageX - a.left;
            y = e.pageY - a.top;
            /*consider any page scrolling:*/
            x = x - window.pageXOffset;
            y = y - window.pageYOffset;
            return { x: x, y: y };
        }
    }

    imageZoom("expandedImg", "myresult");

    $("#expandedAnchor").hover(function () {
        $('.img-zoom-result').removeClass('hidden');
    }, function () {
        $('.img-zoom-result').addClass('hidden');
    });
</script>

<script type="text/javascript">

    function addtowishlist(PId, PName, PPriceUSD) {

        var pprice = $("#pricevalue").text();

        $.ajax({

            url: '/Lore/AddIntoWishlist?PId=' + PId + '&PName=' + PName + '&PPriceUsd=' + pprice,
            //type: 'GET',
            crossDomain: true,
            //data: JSON.stringify(employee),
            //data: { emailid: abc, password: def },
            //dataType: 'json',
            contentType: "application/json",
            //contentType: "application/xml; charset=utf-8",
            //beforeSend: function () {
            //    $("#loadingImage").show();
            //},
            //complete: function () {
            //    $("#loadingImage").hide();
            //},
            success: function (data) {
                //alert("Thank you for contacting us!");
                if (data == 1) {
                    //alert("Product Added To Wishlist.");
                    //window.location.href = "http://www.dev1.connekt.in/Lore/Index";
                    //document.location = '@Url.Action("Products", "Lore", new { CategoryId = @Model.CategoryId })';
                    return true;
                }
                    //else if (data == 2) {
                    //    return true;
                    //}
                else {
                    alert("Please Log-In to add into Wishlist.");
                    return false;
                }
                //window.location.href = "http://www.bookcommerce.com/";
                return false;
            },
            error: function (data) {
                console.log(data);
                alert("Some error occured");
                return false;
            }

        });
        //return false;


        //$("#cartid").append(lidata);
    }

</script>